<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Defining options · PGFPlotsX.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>PGFPlotsX.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" action="../search.html"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../index.html">Home</a></li><li><span class="toctext">Manual</span><ul><li class="current"><a class="toctext" href="options.html">Defining options</a><ul class="internal"><li><a class="toctext" href="#Setting-options-when-constructing-an-object-1">Setting options when constructing an object</a></li><li><a class="toctext" href="#Modifying-options-after-an-object-is-created-1">Modifying options after an object is created</a></li></ul></li><li><a class="toctext" href="structs.html">Building up figures</a></li><li><a class="toctext" href="save.html">Showing / Exporting figures</a></li><li><a class="toctext" href="custom_types.html">Optional packages</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li>Manual</li><li><a href="options.html">Defining options</a></li></ul><a class="edit-page" href="https://github.com/KristofferC/PGFPlotsX.jl/tree/8f7937b08698bd4882f04701fa81dc145db09278/docs/src/man/options.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Defining options</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Defining-options-1" href="#Defining-options-1">Defining options</a></h1><p>In PGFPlots, options are given as a list of keys that might have corresponding values inside of two square brackets e.g.</p><pre><code class="language-tex">\begin{axis}[ybar, width = 4.5cm]
...
\end{axis}</code></pre><p>This section shows the method for which to set and retrieve such options.</p><div class="admonition note"><div class="admonition-title">Note</div><div class="admonition-text"><p>Sometimes examples are more telling than documentation so please check out <a href="https://github.com/KristofferC/PGFPlotsXExamples">the examples</a>.</p></div></div><h2><a class="nav-anchor" id="Setting-options-when-constructing-an-object-1" href="#Setting-options-when-constructing-an-object-1">Setting options when constructing an object</a></h2><h3><a class="nav-anchor" id="As-arguments-to-the-constructor-1" href="#As-arguments-to-the-constructor-1">As arguments to the constructor</a></h3><p>When constructing an object (like a <code>Plot</code>), options to that object can be entered in the argument list where a string represents a key without a value (e.g. <code>&quot;very thick&quot;</code>) and a pair represents a key/value option, (e.g. <code>&quot;samples&quot; =&gt; 50</code>). This works well when the options are few and there is only one level of options in the object.</p><pre><code class="language-julia-repl">julia&gt; c = pgf.Coordinates([1,2,3], [2, 4, 8]);

julia&gt; p = pgf.Plot(c, &quot;very thick&quot;, &quot;mark&quot; =&gt; &quot;halfcircle&quot;)

julia&gt; pgf.print_tex(p); # print_tex is typically not called from user code
\addplot+[very thick, mark={halfcircle}]
        coordinates {
        (1, 2)
        (2, 4)
        (3, 8)
        }
    ;</code></pre><h3><a class="nav-anchor" id="The-@pgf-macro-1" href="#The-@pgf-macro-1">The <code>@pgf</code> macro</a></h3><p>When there are nested options the previous method does not work so well. Instead, we provide a macro <code>@pgf</code> so that options can be entered similarly to how they are in tex.</p><p>The previous example is then written as</p><pre><code class="language-julia-repl">pgf.@pgf pgf.Plot(c,
    {
        very_thick,
        mark = &quot;halfcircle&quot;
    })</code></pre><p>A more complicated example is:</p><pre><code class="language-julia-repl">pgf.@pgf a = pgf.Axis(pgf.Plot(c),
    {
        &quot;axis background/.style&quot; =
        {
            shade,
            top_color = &quot;gray&quot;,
            bottom_color = &quot;white&quot;,
        },
        ymode = &quot;log&quot;
    }
)</code></pre><p>which is printed as</p><pre><code class="language-julia-repl">julia&gt; pgf.print_tex(a)
    \begin{axis}[axis background/.style={shade, top color={gray}, bottom color={white}}, ymode={log}]
        \addplot+[]
            coordinates {
            (1, 2)
            (2, 4)
            (3, 8)
            }
        ;
    \end{axis}</code></pre><p>The macro can be applied to any type of expression and will be applied to everything inside that expression that is of the form <code>{ expr }</code>.</p><p>!!!note     * Keys that contain symbols that in Julia are operators (e.g the key <code>&quot;axis background/.style&quot;</code>) has to be entered       as strings, as in the example above.</p><h3><a class="nav-anchor" id="Transformations-1" href="#Transformations-1">Transformations</a></h3><p>The following transformations of keys/values are done when the options are written in .tex style:</p><ul><li><p>Underlines in keys are replaced with spaces e.g. <code>very_thick -&gt; &quot;very thick&quot;</code>.</p></li><li><p>A list as a value is written as &quot;comma joined&quot; e.g. <code>[1, 2, 3] -&gt; &quot;1, 2, 3&quot;</code>.</p></li><li><p>A tuple as a value is written with braces delimiting the elements e.g. <code>(60, 30) -&gt; {60}{30}</code></p></li></ul><h2><a class="nav-anchor" id="Modifying-options-after-an-object-is-created-1" href="#Modifying-options-after-an-object-is-created-1">Modifying options after an object is created</a></h2><p>It is sometimes convenient to set and get options after an object has been created.</p><pre><code class="language-julia-repl">julia&gt; c = pgf.Coordinates([1,2,3], [2, 4, 8]);

julia&gt; p = pgf.Plot(c)

julia&gt; p[&quot;fill&quot;] = &quot;blue&quot;;

julia&gt; p[&quot;fill&quot;];
&quot;blue&quot;

julia&gt; pgf.@pgf p[&quot;axis background/.style&quot;] = { shade, top_color = &quot;gray&quot;, bottom_color = &quot;white&quot; };

julia&gt; p[&quot;axis background/.style&quot;][&quot;top_color&quot;];
&quot;gray&quot;

julia&gt; p[&quot;very thick&quot;] = nothing # Set a value less options;

julia&gt; delete!(p, &quot;fill&quot;);

julia&gt; p

julia&gt; pgf.print_tex(p)
    \addplot+[axis background/.style={shade, top color={gray}, bottom color={white}}, very tick]
        coordinates {
        (1, 2)
        (2, 4)
        (3, 8)
        }
    ;</code></pre><p>You can also merge in options that have been separately created using <code>merge!</code></p><pre><code class="language-julia-repl">julia&gt; a = pgf.Axis();

julia&gt; pgf.@pgf opts =  {xmin = 0, ymax = 1, ybar};

julia&gt; merge!(a, opts)

julia&gt; pgf.print_tex(a)
    \begin{axis}[xmin={0}, ymax={1}, ybar]
    \end{axis}</code></pre><p>It is then easy to apply for example a &quot;theme&quot; to an axis where the themed is a set of options already saved.</p><footer><hr/><a class="previous" href="../index.html"><span class="direction">Previous</span><span class="title">Home</span></a><a class="next" href="structs.html"><span class="direction">Next</span><span class="title">Building up figures</span></a></footer></article></body></html>
